# –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –°–¢–ê–¢–£–°–ï DOTS.OCR

## üéØ –ó–ê–î–ê–ß–ê
–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å dots.ocr –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É OCR —Å–∏—Å—Ç–µ–º—ã.

## üìä –ü–†–û–í–ï–î–ï–ù–ù–ê–Ø –†–ê–ë–û–¢–ê

### ‚úÖ –£–°–ü–ï–®–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û:
1. **Dtype mismatch –ø—Ä–æ–±–ª–µ–º–∞** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - –ü—Ä–æ–±–ª–µ–º–∞: `Input type (struct c10::BFloat16) and bias type (struct c10::Half) should be the same`
   - –†–µ—à–µ–Ω–∏–µ: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏ –∫ float16
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–∏–º–≤–æ–ª–æ–≤** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
   - –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ `!!!!!!!!!!!!!!!!!!!!!!!!!`
   - –†–µ—à–µ–Ω–∏–µ: –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å repetition_penalty
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏** - –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
   - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ~10-11 —Å–µ–∫—É–Ω–¥
   - VRAM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ~5.67GB
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

### ‚ùå –ù–ï–†–ï–®–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:
**CUDA device-side assert error**
- –û—à–∏–±–∫–∞: `CUDA error: device-side assert triggered`
- –õ–æ–∫–∞—Ü–∏—è: `TensorCompare.cu:112: block: [0,0,0], thread: [0,0,0] Assertion 'input[0] != 0' failed`
- –ü—Ä–∏—á–∏–Ω–∞: –ì–ª—É–±–æ–∫–∞—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π CUDA/PyTorch
- –°—Ç–∞—Ç—É—Å: ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

## üîç –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- **GPU**: NVIDIA GeForce RTX 5070 Ti Laptop GPU (11.94GB VRAM)
- **CUDA**: 13.0
- **PyTorch**: 2.9.1+cu130
- **Transformers**: 5.0.0.dev0

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:
1. **Dtype –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç** - –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ dtype –æ—à–∏–±–æ–∫
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
3. **CUDA assert –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —è–¥—Ä–µ** - –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ GPU –æ–ø–µ—Ä–∞—Ü–∏–π
4. **Assertion `input[0] != 0` failed** - —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã CUDA assert:
1. **–í–µ—Ä—Å–∏–æ–Ω–Ω–∞—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - dots.ocr –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏
2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞** - –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å RTX 5070 Ti –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
3. **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è** - –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
4. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏** - –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º CUDA runtime

## üìà –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π dots.ocr:

| –í–µ—Ä—Å–∏—è | –ó–∞–≥—Ä—É–∑–∫–∞ | Dtype Fix | Generation Fix | OCR Quality | –°—Ç–∞—Ç—É—Å |
|--------|----------|-----------|----------------|-------------|---------|
| `dots_ocr` (–æ—Ä–∏–≥–∏–Ω–∞–ª) | ‚úÖ | ‚ùå | ‚ùå | 0% | Dtype –æ—à–∏–±–∫–∞ |
| `dots_ocr_corrected` | ‚úÖ | ‚ùå | ‚ùå | 0% | Dtype –æ—à–∏–±–∫–∞ |
| `dots_ocr_final` | ‚úÖ | ‚ùå | ‚ùå | 0% | Dtype –æ—à–∏–±–∫–∞ |
| `dots_ocr_dtype_fixed` | ‚úÖ | ‚úÖ | ‚ùå | 0% | –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è |
| `dots_ocr_generation_fixed` | ‚úÖ | ‚úÖ | ‚úÖ | 0% | CUDA assert |

### –ü—Ä–æ–≥—Ä–µ—Å—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- **–≠—Ç–∞–ø 1**: Dtype mismatch ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù
- **–≠—Ç–∞–ø 2**: Generation repetition ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù  
- **–≠—Ç–∞–ø 3**: CUDA assert ‚ùå –ë–õ–û–ö–ò–†–£–ï–¢

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –º–æ–¥–µ–ª–∏:**

1. **qwen_vl_2b** - –û–°–ù–û–í–ù–ê–Ø OCR –ú–û–î–ï–õ–¨
   - –ö–∞—á–µ—Å—Ç–≤–æ OCR: 100% (6/6 keywords)
   - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ~10s
   - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: ~9s
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –û–¢–õ–ò–ß–ù–û

2. **qwen3_vl_2b** - –ú–ù–û–ì–û–Ø–ó–´–ß–ù–ê–Ø –ú–û–î–ï–õ–¨
   - –ö–∞—á–µ—Å—Ç–≤–æ OCR: 100% (6/6 keywords) 
   - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ~10s
   - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: ~26s
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞: 32 —è–∑—ã–∫–∞
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –û–¢–õ–ò–ß–ù–û

### –î–ª—è dots.ocr:
**–û—Ç–ª–æ–∂–∏—Ç—å –¥–æ —Ä–µ—à–µ–Ω–∏—è CUDA –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ**: –ò—Å–∫–ª—é—á–∏—Ç—å dots.ocr –∏–∑ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
2. **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ**: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ CUDA/PyTorch
3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ**: –î–æ–∂–¥–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ dots.ocr

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è CUDA –ø—Ä–æ–±–ª–µ–º—ã:
1. **Downgrade PyTorch** –¥–æ –≤–µ—Ä—Å–∏–∏ 2.7.0 (–∫–∞–∫ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö)
2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ flash-attention** –≤–µ—Ä—Å–∏–∏ 2.8.0.post2
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU —Ä–µ–∂–∏–º–∞** –¥–ª—è dots.ocr
4. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** —Å —Ç–æ—á–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üèÜ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´

### ‚úÖ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–ê:
- **–û—Å–Ω–æ–≤–Ω–∞—è OCR**: qwen_vl_2b (100% –∫–∞—á–µ—Å—Ç–≤–æ, –±—ã—Å—Ç—Ä–æ)
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è OCR**: qwen3_vl_2b (100% –∫–∞—á–µ—Å—Ç–≤–æ, –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è)
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: 2/3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è RTX 5070 Ti

### ‚ö†Ô∏è dots.ocr –°–¢–ê–¢–£–°:
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏**: –ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ (dtype + generation)
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏**: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ CUDA assert –æ—à–∏–±–∫–æ–π
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–æ –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê –ù–ê 85%:**

1. ‚úÖ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. ‚úÖ **–ò–∑—É—á–µ–Ω–∏–µ dots.ocr** - –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω
3. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º** - Dtype –∏ generation –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
4. ‚ö†Ô∏è **–ü–æ–ª–Ω–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ CUDA –ø—Ä–æ–±–ª–µ–º–æ–π
5. ‚úÖ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è** - qwen_vl_2b –∏ qwen3_vl_2b —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ

**–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ** —Å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ qwen_vl_2b –∏ qwen3_vl_2b, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç 100% –∫–∞—á–µ—Å—Ç–≤–æ OCR –∏ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É.

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 24 —è–Ω–≤–∞—Ä—è 2026, 15:00*
*–°—Ç–∞—Ç—É—Å: –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£*