# Quick Start Guide

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/OlegKarenkikh/chatvlmllm.git
cd chatvlmllm
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Linux/Mac
python3 -m venv venv
source venv/bin/activate

# Windows
python -m venv venv
venv\Scripts\activate
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º–µ—Ç ~5-10 –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
streamlit run app.py
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8501

## üéØ –ü–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–µ–∂–∏–º OCR

1. –í—ã–±–µ—Ä–∏—Ç–µ **OCR Mode** –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ø–∞—Å–ø–æ—Ä—Ç, —Å—á–µ—Ç, —á–µ–∫)
4. –ù–∞–∂–º–∏—Ç–µ **Extract Text**
5. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

### –†–µ–∂–∏–º Chat

1. –í—ã–±–µ—Ä–∏—Ç–µ **Chat Mode** –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
4. –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç –æ—Ç –º–æ–¥–µ–ª–∏
5. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ –¥–∏–∞–ª–æ–≥

## ü§ñ –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏

### GOT-OCR 2.0
- **–î–ª—è —á–µ–≥–æ:** –ë—ã—Å—Ç—Ä–æ–µ –∏ —Ç–æ—á–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- **–†–∞–∑–º–µ—Ä:** ~3GB VRAM
- **–°–∫–æ—Ä–æ—Å—Ç—å:** –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:** –°–∫–∞–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ç–∞–±–ª–∏—Ü, —Ñ–æ—Ä–º—É–ª

### Qwen2-VL 2B
- **–î–ª—è —á–µ–≥–æ:** –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–†–∞–∑–º–µ—Ä:** ~5GB VRAM
- **–°–∫–æ—Ä–æ—Å—Ç—å:** –ë—ã—Å—Ç—Ä–∞—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:** –í–æ–ø—Ä–æ—Å—ã –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä

### Qwen2-VL 7B
- **–î–ª—è —á–µ–≥–æ:** –°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ
- **–†–∞–∑–º–µ—Ä:** ~14GB VRAM
- **–°–∫–æ—Ä–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:** –°–ª–æ–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python API

```python
from PIL import Image
from models import ModelLoader

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
model = ModelLoader.load_model('got_ocr')

# –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
image = Image.open('document.jpg')
text = model.process_image(image)
print(text)
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª–µ–π

```python
from utils.field_parser import FieldParser

# –ü–∞—Ä—Å–∏–Ω–≥ —Å—á–µ—Ç–∞
fields = FieldParser.parse_invoice(text)
print(fields['invoice_number'])
print(fields['total_amount'])
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç

```python
model = ModelLoader.load_model('qwen_vl_2b')

# –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
response = model.chat(image, "What is the total amount?")
print(response)
```

## üìä Jupyter Notebooks

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:

```bash
jupyter notebook notebooks/
```

- `01_model_exploration.ipynb` - –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –º–æ–¥–µ–ª—è–º–∏
- `02_batch_processing.ipynb` - –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üê≥ Docker (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫)

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t chatvlmllm -f docker/Dockerfile .

# –ó–∞–ø—É—Å–∫ —Å GPU
docker-compose -f docker/docker-compose.yml up
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.yaml` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–µ–π
- –®–∞–±–ª–æ–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=models --cov=utils

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_utils.py
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### CUDA Out of Memory

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å
# –í sidebar –≤—ã–±–µ—Ä–∏—Ç–µ Qwen2-VL 2B –≤–º–µ—Å—Ç–æ 7B

# –ò–ª–∏ —É–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ config.yaml:
ocr:
  resize_max_dimension: 1024  # –≤–º–µ—Å—Ç–æ 2048
```

### –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–æ–ª–≥–æ

- –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∫–∞—á–∏–≤–∞–µ—Ç –º–æ–¥–µ–ª–∏ —Å HuggingFace (~2-7GB)
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫—ç—à
- –ö—ç—à —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `~/.cache/huggingface/`

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
which python  # –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ venv

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --force-reinstall
```

### Flash Attention –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (Windows)

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è Windows. –ú–æ–¥–µ–ª–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Flash Attention.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [README.md](README.md) - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- [docs/models.md](docs/models.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–¥–µ–ª—è–º
- [docs/architecture.md](docs/architecture.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [CONTRIBUTING.md](CONTRIBUTING.md) - –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥

## ü§ù –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- [GitHub Issues](https://github.com/OlegKarenkikh/chatvlmllm/issues) - –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ
- [GitHub Discussions](https://github.com/OlegKarenkikh/chatvlmllm/discussions) - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å

## üéì –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. üìñ –ò–∑—É—á–∏—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –º–æ–¥–µ–ª—è–º](docs/models.md)
3. üß™ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ [Jupyter notebooks](notebooks/)
4. üöÄ –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–≤–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
5. üìä –ü—Ä–æ–≤–µ–¥–∏—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
6. üìù –ó–∞–ø–æ–ª–Ω–∏—Ç–µ [research_log.md](docs/research_log.md)

---

**–£—Å–ø–µ—Ö–æ–≤ –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏! üéâ**