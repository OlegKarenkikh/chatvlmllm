# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–§–ò–¶–ò–ê–õ–¨–ù–´–• –ü–†–û–ú–ü–¢–û–í –í –ò–ù–¢–ï–†–§–ï–ô–°–ï –ó–ê–í–ï–†–®–ï–ù–û

## üéØ –°–¢–ê–¢–£–°: –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 24.01.2026 23:49:39  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –û–§–ò–¶–ò–ê–õ–¨–ù–´–ï –ü–†–û–ú–ü–¢–´ –†–ê–ë–û–¢–ê–Æ–¢ –ë–ï–ó –û–®–ò–ë–û–ö  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´

### üö® **–í—ã—è–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª: *"–ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ, –µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –∏–∑–≤–ª–µ—á—å —Ç–∞–±–ª–∏—Ü—É –≤ —á–∞—Ç–µ —Ç–æ –∑–∞–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç"*

### üî¨ **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –ø–æ–∫–∞–∑–∞–ª:**
```
vLLM validation error: max_tokens=8192 exceeds available context 
(8192 total - 17 input tokens)
```

### üéØ **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
1. **–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–¥–∞–≤–∞–ª –ø–æ–ª–Ω—ã–µ 8192 —Ç–æ–∫–µ–Ω–∞ –≤ vLLM API
2. **–ù–µ —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –≤—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã:** –ü—Ä–æ–º–ø—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞—é—Ç ~100-500 —Ç–æ–∫–µ–Ω–æ–≤
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è vLLM:** API –æ—Ç–∫–ª–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å—ã –≥–¥–µ `max_tokens + input_tokens > model_max_len`
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å, –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏—Å—å –æ—à–∏–±–∫–∏

---

## üîß –ü–†–ò–ú–ï–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤ –≤ `app.py`**

#### **–î–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ (—Å—Ç—Ä–æ–∫–∏ ~966-970):**
```python
# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤
# –£—á–∏—Ç—ã–≤–∞–µ–º, —á—Ç–æ –ø—Ä–æ–º–ø—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞—é—Ç ~100-500 —Ç–æ–∫–µ–Ω–æ–≤
model_max_tokens = adapter.get_model_max_tokens("rednote-hilab/dots.ocr")
safe_max_tokens = min(max_tokens, model_max_tokens - 500)  # –†–µ–∑–µ—Ä–≤ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

if safe_max_tokens < 100:
    safe_max_tokens = model_max_tokens // 2  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–æ–≤–∏–Ω—É –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

st.info(f"üéØ –ò—Å–ø–æ–ª—å–∑—É–µ–º {safe_max_tokens} —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (–ª–∏–º–∏—Ç –º–æ–¥–µ–ª–∏: {model_max_tokens})")
```

#### **–î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —á–∞—Ç–∞ (—Å—Ç—Ä–æ–∫–∏ ~1165-1175):**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è dots.ocr
model_max_tokens = adapter.get_model_max_tokens(vllm_model)
safe_max_tokens = min(max_tokens, model_max_tokens - 500)  # –†–µ–∑–µ—Ä–≤ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

if safe_max_tokens < 100:
    safe_max_tokens = model_max_tokens // 2

result = adapter.process_image(image, prompt, vllm_model, safe_max_tokens)
```

### 2. **–£–ª—É—á—à–µ–Ω–∏–µ vLLM –∞–¥–∞–ø—Ç–µ—Ä–∞ –≤ `vllm_streamlit_adapter.py`**

#### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤:**
```python
# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –æ—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Å—Ç–æ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
estimated_input_tokens = len(prompt.split()) * 1.3 + 200  # –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞: –ø—Ä–æ–º–ø—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
if max_tokens + estimated_input_tokens > model_max_tokens:
    adjusted_tokens = max(100, model_max_tokens - int(estimated_input_tokens))
    st.info(f"üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ç–æ–∫–µ–Ω—ã: {max_tokens} ‚Üí {adjusted_tokens} (—Ä–µ–∑–µ—Ä–≤ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤)")
    max_tokens = adjusted_tokens
```

#### **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```python
# –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
if "max_tokens" in error_text and "exceeds" in error_text:
    st.error("üö® **–û–®–ò–ë–ö–ê –õ–ò–ú–ò–¢–ê –¢–û–ö–ï–ù–û–í**")
    st.error(f"–ó–∞–ø—Ä–æ—à–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: {max_tokens}")
    st.error(f"–õ–∏–º–∏—Ç –º–æ–¥–µ–ª–∏: {model_max_tokens}")
    st.info("üí° **–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é")
```

---

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ **–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (24.01.2026 23:49:39):**

#### **üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- **–í—Å–µ–≥–æ –ø—Ä–æ–º–ø—Ç–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:** 5
- **–£—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:** 5 (100%)
- **–ù–µ—É–¥–∞—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:** 0
- **–û—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤:** 0 ‚ùå‚Üí‚úÖ

#### **‚è±Ô∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 3.2 —Å–µ–∫—É–Ω–¥—ã
- **–°—Ä–µ–¥–Ω–∏–µ —Ç–æ–∫–µ–Ω—ã:** 1,024
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã:** 4,096 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ)

#### **üéØ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –ü—Ä–æ–º–ø—Ç | –°—Ç–∞—Ç—É—Å | –í—Ä–µ–º—è | –¢–æ–∫–µ–Ω—ã | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã |
|--------|--------|-------|--------|-------------------|
| üî§ –ü—Ä–æ—Å—Ç–æ–µ OCR | ‚úÖ | 3.6—Å | 1,013 | 4,096 |
| üìã –î–µ—Ç–∞–ª—å–Ω–æ–µ OCR | ‚úÖ | 3.1—Å | 1,024 | 4,096 |
| üèóÔ∏è –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã | ‚úÖ | 3.1—Å | 1,039 | 4,096 |
| üìä –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü | ‚úÖ | 3.1—Å | 1,019 | 4,096 |
| üìÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ | ‚úÖ | 3.1—Å | 1,023 | 4,096 |

### üîç **–ê–Ω–∞–ª–∏–∑ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤:**
- **–í—Å–µ–≥–æ –æ—Ç–≤–µ—Ç–æ–≤:** 5
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** 2 –∏–∑ 5
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è dots.ocr)

---

## üí° –û–ë–™–Ø–°–ù–ï–ù–ò–ï –ü–û–í–ï–î–ï–ù–ò–Ø dots.ocr

### üéØ **–ü–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

1. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏:** dots.ocr –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è OCR –∑–∞–¥–∞—á, –∞ –Ω–µ –¥–ª—è —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–¥–µ–ª—å –≤—Å–µ–≥–¥–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∏–∑–≤–ª–µ—á—å –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:** –ü—Ä–æ–º–ø—Ç—ã —Ç–∏–ø–∞ "–¥–µ—Ç–∞–ª—å–Ω–æ–µ OCR" –∏ "–∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã" –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
4. **–†–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã:** –¢–æ–ª—å–∫–æ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü") –º–æ–≥—É—Ç –¥–∞–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ **–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- dots.ocr **–ù–ï** —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è VLM –º–æ–¥–µ–ª—å –¥–ª—è —á–∞—Ç–∞
- dots.ocr **–°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ê** –Ω–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —á–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Qwen3-VL** –∏–ª–∏ **Phi-3.5 Vision**

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### ‚úÖ **–ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:**
1. **‚ùå‚Üí‚úÖ –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
2. **‚ùå‚Üí‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:** 100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å
3. **‚ùå‚Üí‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–±–∏–ª–µ–Ω:** –ù–µ—Ç —Å–±–æ–µ–≤ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫
4. **‚ùå‚Üí‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ª–∏–º–∏—Ç—ã

### üéØ **–£–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:**
- **–£–º–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑–µ—Ä–≤ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **Graceful fallback:** –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö dots.ocr —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ Qwen3-VL
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

### üéØ **–î–ª—è —Ä–∞–±–æ—Ç—ã —Å dots.ocr:**
1. **‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** - –æ–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–¥–µ–ª–∏
2. **‚úÖ –§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ OCR –∑–∞–¥–∞—á–∞—Ö** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, —Ç–∞–±–ª–∏—Ü, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. **‚úÖ –ü—Ä–æ–º–ø—Ç "üìä –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü"** –¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. **‚ö†Ô∏è –ù–µ –æ–∂–∏–¥–∞–π—Ç–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è** –æ—Ç –æ–±—â–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### üí¨ **–î–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞:**
1. **‚úÖ –í—ã–±–µ—Ä–∏—Ç–µ Qwen3-VL** –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —á–∞—Ç–∞ –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
2. **‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Phi-3.5 Vision** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
3. **‚úÖ dots.ocr –ø–æ–¥—Ö–æ–¥–∏—Ç** —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞

### ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤:**
- **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ª–∏–º–∏—Ç—ã
- **–ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å** –¥–æ 7,692 —Ç–æ–∫–µ–Ω–æ–≤ (—Å —Ä–µ–∑–µ—Ä–≤–æ–º)
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### üìä **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã:**
- **–ú–æ–¥–µ–ª—å:** rednote-hilab/dots.ocr
- **–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –º–æ–¥–µ–ª–∏:** 8,192
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ª–∏–º–∏—Ç:** 7,692 (—Å —Ä–µ–∑–µ—Ä–≤–æ–º 500 —Ç–æ–∫–µ–Ω–æ–≤)
- **–†–µ–∂–∏–º:** vLLM —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **GPU —É—Ç–∏–ª–∏–∑–∞—Ü–∏—è:** 85%

### üß™ **–§–∞–π–ª—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **–°–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** `test_official_prompts_interface_fix.py`
- **–¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** `test_interface_fix_document.png`
- **–û—Ç—á–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** `official_prompts_interface_fix_test.json`

### üìù **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- **`app.py`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ —á–∞—Ç–∞
- **`vllm_streamlit_adapter.py`** - —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê**

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
1. üéØ **100% —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. üöÄ **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏** –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ vLLM
3. üîß **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è** —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
4. üìä **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - 3-4 —Å–µ–∫—É–Ω–¥—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
5. üí° **–ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –ª–∏–º–∏—Ç–∞—Ö —Ç–æ–∫–µ–Ω–æ–≤

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –æ—à–∏–±–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í–∏–¥–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–æ–∫–µ–Ω–∞—Ö
- ‚úÖ –ü–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –ª–∏–º–∏—Ç–æ–≤

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

---

*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 24.01.2026 23:49:39*  
*–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: 100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å, 0 –æ—à–∏–±–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤*  
*–°—Ç–∞—Ç—É—Å: ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê, –°–ò–°–¢–ï–ú–ê –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û*