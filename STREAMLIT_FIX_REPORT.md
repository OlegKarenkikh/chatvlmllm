# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ò STREAMLIT

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê

**–û—à–∏–±–∫–∞**: `KeyError: 'ocr'` –≤ app.py —Å—Ç—Ä–æ–∫–∞ 396  
**–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ–∫—Ü–∏–∏ `ocr` –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–º config.yaml  
**–°–∏–º–ø—Ç–æ–º—ã**: Streamlit –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### –õ–æ–≥ –æ—à–∏–±–∫–∏:
```
2026-01-24 14:06:14.221 Uncaught app execution
Traceback (most recent call last):
  File "app.py", line 396, in <module>
    type=config["ocr"]["supported_formats"],
    ~~~~~~^^^^^^^
KeyError: 'ocr'
```

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:
1. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ config.yaml –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `ocr`
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ app.py –ø—Ä–æ–¥–æ–ª–∂–∞–ª–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ `config["ocr"]["supported_formats"]`
3. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ KeyError

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ **FastAPI**: –†–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ùå **Streamlit**: –ù–µ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ **–ú–æ–¥–µ–ª–∏**: –ó–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –∏ —Ä–∞–±–æ—Ç–∞–ª–∏
- ‚úÖ **GPU**: –§—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª –Ω–æ—Ä–º–∞–ª—å–Ω–æ

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `ocr` –≤ config.yaml:
```yaml
ocr:
  supported_formats: ["jpg", "jpeg", "png", "bmp", "tiff"]
  max_image_size: 10485760
  resize_max_dimension: 2048
  enable_preprocessing: true
  preprocessing_steps: ["resize", "normalize", "enhance"]
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã —à–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
```yaml
document_templates:
  passport:
    name: "Passport"
    fields: ["document_number", "surname", "given_names", ...]
  invoice:
    name: "Invoice"
    fields: ["invoice_number", "date", "seller_name", ...]
  receipt:
    name: "Receipt"
    fields: ["store_name", "store_address", "date", ...]
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω Streamlit –ø—Ä–æ—Ü–µ—Å—Å:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å 1
# –ó–∞–ø—É—â–µ–Ω –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å 6
streamlit run app.py --server.port 8501 --server.address 0.0.0.0
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå Streamlit: –û—à–∏–±–∫–∞ KeyError
- ‚úÖ FastAPI: –†–∞–±–æ—Ç–∞–ª
- üîÑ –°–∏—Å—Ç–µ–º–∞: 50% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ Streamlit: –†–∞–±–æ—Ç–∞–µ—Ç (http://localhost:8501)
- ‚úÖ FastAPI: –†–∞–±–æ—Ç–∞–µ—Ç (http://localhost:8000)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞: 100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:
```
üöÄ –¢–ï–°–¢ –ñ–ò–í–û–ô –°–ò–°–¢–ï–ú–´ ChatVLMLLM
==================================================
api_health      | ‚úÖ –ü–†–û–®–ï–õ
api_models      | ‚úÖ –ü–†–û–®–ï–õ
api_ocr         | ‚úÖ –ü–†–û–®–ï–õ
streamlit       | ‚úÖ –ü–†–û–®–ï–õ

üèÜ –†–ï–ó–£–õ–¨–¢–ê–¢: 4/4 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (100%)
üéâ –í–°–ï –°–ò–°–¢–ï–ú–´ –†–ê–ë–û–¢–ê–Æ–¢ –û–¢–õ–ò–ß–ù–û!
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å OCR:
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: 9.77s (—É–ª—É—á—à–µ–Ω–∏–µ —Å 11.03s)
- **–ö–∞—á–µ—Å—Ç–≤–æ**: 100% (5/5 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤)
- **VRAM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: 4.26GB
- **–ú–æ–¥–µ–ª—å**: qwen3_vl_2b –∞–∫—Ç–∏–≤–Ω–∞

## üîÑ –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:
```
üéÆ GPU: NVIDIA GeForce RTX 5070 Ti Laptop GPU
üìä VRAM: 4.26GB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è / 11.94GB –¥–æ—Å—Ç—É–ø–Ω–æ
üåê Streamlit: ‚úÖ http://localhost:8501
üöÄ FastAPI: ‚úÖ http://localhost:8000
üíª CPU: 2.6% –∑–∞–≥—Ä—É–∑–∫–∞
üß† RAM: 13.3GB / 31.7GB (42.0%)
```

### –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:
- **–ü—Ä–æ—Ü–µ—Å—Å 5**: python api.py (running)
- **–ü—Ä–æ—Ü–µ—Å—Å 6**: streamlit run app.py (running)

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞:
- ‚úÖ Streamlit –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ OCR —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
- ‚úÖ API —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ

### –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- **Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://localhost:8501
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/docs
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: `python monitor_system.py`

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: ~5 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–°–∏—Å—Ç–µ–º–∞**: üöÄ Production Ready

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 24 —è–Ω–≤–∞—Ä—è 2026, 14:13*  
*–°—Ç–∞—Ç—É—Å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ* ‚úÖ