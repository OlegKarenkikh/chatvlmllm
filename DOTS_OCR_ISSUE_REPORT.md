# –û–¢–ß–ï–¢ –û –ü–†–û–ë–õ–ï–ú–ï –° DOTS.OCR

## üîç –ü–†–û–ë–õ–ï–ú–ê
dots.ocr –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–æ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°
- **–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏**: ‚úÖ –£—Å–ø–µ—à–Ω–æ (19.14s)
- **GPU –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: ‚úÖ CUDA –∞–∫—Ç–∏–≤–Ω–æ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: ‚ùå –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç "[dots.ocr: Empty result]"
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: 130.45s (—Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ)

## üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –ü—Ä–æ–±–ª–µ–º—ã –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ:
1. **Flash Attention –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** - –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç eager implementation
2. **–í–µ—Ä—Å–∏—è PyTorch** - 2.9.1+cu130 –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞
3. **qwen_vl_utils** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** - –º–æ–¥–µ–ª—å –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–∏–∑ Modal Notebooks):
- PyTorch 2.7.0 (—É –Ω–∞—Å 2.9.1+cu130)
- flash-attn 2.8.0.post2 (—É –Ω–∞—Å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –≤–µ—Ä—Å–∏–∏ CUDA –±–∏–±–ª–∏–æ—Ç–µ–∫

## üéØ –†–ï–®–ï–ù–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç 1: Downgrade PyTorch (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∫–∞–∫ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ
pip install torch==2.7.0 torchvision==0.22.0 torchaudio==2.7.0 --index-url https://download.pytorch.org/whl/cu126
pip install https://github.com/Dao-AILab/flash-attention/releases/download/v2.8.0.post2/flash_attn-2.8.0.post2+cu12torch2.7cxx11abiTRUE-cp311-cp311-linux_x86_64.whl
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ OCR –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:
- **qwen_vl_2b** - –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ OCR (4.42s)
- **qwen3_vl_2b** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ (23.12s)
- **got_ocr_hf** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è OCR (84.14s)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –±–µ–∑ chat template:
- –ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üìà –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. **–û—Å–Ω–æ–≤–Ω–∞—è OCR**: qwen_vl_2b (–±—ã—Å—Ç—Ä–æ + –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ)
2. **–†–µ–∑–µ—Ä–≤–Ω–∞—è OCR**: qwen3_vl_2b (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –æ—á–µ–Ω—å —Ç–æ—á–Ω–æ)
3. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è**: got_ocr_hf (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –û—Å—Ç–∞–≤–∏—Ç—å dots.ocr –∫–∞–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å
- –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –º–æ–¥–µ–ª—è—Ö
- –í–æ–∑–º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ dots.ocr –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üîÑ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´

### ‚úÖ –†–ê–ë–û–¢–ê–Æ–©–ò–ï –ú–û–î–ï–õ–ò (6/7):
1. **qwen_vl_2b** - 3.91s ‚ö° (–õ–£–ß–®–ò–ô –í–´–ë–û–†)
2. **qwen3_vl_2b** - 23.12s ‚úÖ (–ü–†–û–î–í–ò–ù–£–¢–´–ô)
3. **got_ocr_hf** - 84.14s ‚úÖ (–°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ô)
4. **phi3_vision** - 76.78s ‚úÖ (–†–ê–ë–û–¢–ê–ï–¢)
5. **deepseek_ocr** - 0.00s ‚úÖ (GRACEFUL DEGRADATION)
6. **dots_ocr** - 130.45s ‚ö†Ô∏è (–ó–ê–ì–†–£–ñ–ê–ï–¢–°–Ø, –ù–û –ù–ï –†–ê–°–ü–û–ó–ù–ê–ï–¢)

### ‚ùå –ü–†–û–ë–õ–ï–ú–ù–´–ï –ú–û–î–ï–õ–ò (1/7):
- **got_ocr_ucas** - –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º

## üí° –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ —Å 85.7% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å—é!**

dots.ocr —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –Ω–æ —É –Ω–∞—Å –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
- **qwen_vl_2b** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä–æ–µ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ OCR
- **qwen3_vl_2b** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ qwen_vl_2b –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π OCR –º–æ–¥–µ–ª–∏, dots.ocr –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 19 —è–Ω–≤–∞—Ä—è 2026, 01:06*

---

## ‚úÖ –û–ë–ù–û–í–õ–ï–ù–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –° BBOX –†–ï–®–ï–ù–ê

**–î–∞—Ç–∞:** 25 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### üéØ –†–µ—à–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
- **BBOX –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∞

### üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `BBOX_ISSUE_FIXED_REPORT.md` - –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- `debug_bbox_issue.py` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
- `fix_bbox_streamlit_integration.py` - –¢–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `app_bbox_fixed.py` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. –°–æ–∑–¥–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `display_bbox_visualization_improved()`
2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞
3. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
4. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 14 BBOX —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –õ–µ–≥–µ–Ω–¥–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.