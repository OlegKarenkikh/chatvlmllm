# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã: dots.ocr –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –≤ —á–∞—Ç–µ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û:** dots.ocr –º–æ–¥–µ–ª—å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –≤ —Ä–µ–∂–∏–º–µ —á–∞—Ç–∞ –∏ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω–æ–µ OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ vLLM —Ä–µ–∂–∏–º–µ

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ 8 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤:**

| –ü—Ä–æ–º–ø—Ç | –û—Ç–≤–µ—Ç | –ê–Ω–∞–ª–∏–∑ |
|--------|-------|--------|
| "Extract all text from this image" | –ü–æ–ª–Ω–æ–µ OCR | ‚úÖ –û–∂–∏–¥–∞–µ–º–æ |
| "What do you see in this image?" | –ü–æ–ª–Ω–æ–µ OCR | ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| "What is the number in this image?" | –ü–æ–ª–Ω–æ–µ OCR | ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| "Describe this image briefly" | –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ |
| "Is there any text in this image?" | –ü–æ–ª–Ω–æ–µ OCR | ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| "What color is the background?" | –ü–æ–ª–Ω–æ–µ OCR | ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| "How many words are there?" | –ü–æ–ª–Ω–æ–µ OCR | ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| "Tell me a joke" | –ü–æ–ª–Ω–æ–µ OCR | ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- ‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤: 8/8
- üîç –ü–æ–ª–Ω–æ–µ OCR: 7 —Ç–µ—Å—Ç–æ–≤ (87.5%)
- üéØ –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã: 1 —Ç–µ—Å—Ç (12.5%)

### –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
Hello World!

This is a test document.

Number: 12345
```

## üî¨ –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ dots.ocr**
- dots.ocr **—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è OCR –∑–∞–¥–∞—á**, –∞ –Ω–µ –¥–ª—è –æ–±—â–µ–≥–æ —á–∞—Ç–∞
- –ú–æ–¥–µ–ª—å **–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞** –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ù–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö

### 2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏**
- dots.ocr –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** –¥–ª—è OCR –∑–∞–¥–∞—á
- –ú–æ–¥–µ–ª—å **–Ω–µ –æ–±—É—á–µ–Ω–∞** –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- **–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ OCR

### 3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è vLLM —Å–µ—Ä–≤–µ—Ä–∞**
- vLLM —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –º–æ–≥—É—Ç **–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù—É–∂–Ω–∞ **—Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –¥–ª—è chat-—Ä–µ–∂–∏–º–∞

## üìö –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã dots.ocr

dots.ocr –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ **4 –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–µ–∂–∏–º–∞**:

1. **`prompt_layout_all_en`** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
2. **`prompt_layout_only_en`** - –¢–æ–ª—å–∫–æ –¥–µ—Ç–µ–∫—Ü–∏—è –º–∞–∫–µ—Ç–∞  
3. **`prompt_ocr`** - –ü—Ä–æ—Å—Ç–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
4. **`prompt_grounding_ocr`** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏

## üí° –†–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã

### üöÄ –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —á–∞—Ç–∞**
```python
# –í–º–µ—Å—Ç–æ dots.ocr –¥–ª—è —á–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
chat_models = [
    "Qwen/Qwen3-VL-2B-Instruct",  # –õ—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è —á–∞—Ç–∞
    "Qwen/Qwen2-VL-2B-Instruct",  # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
    "microsoft/Phi-3.5-vision-instruct"  # Microsoft VLM
]
```

#### 2. **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Streamlit**
```python
# –í app.py –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –º–æ–¥–µ–ª–∏
if "dots.ocr" in selected_model:
    # –î–ª—è dots.ocr - —Ç–æ–ª—å–∫–æ OCR —Ä–µ–∂–∏–º
    if any(word in prompt.lower() for word in ['—Ç–µ–∫—Å—Ç', '–ø—Ä–æ—á–∏—Ç–∞–π', '–∏–∑–≤–ª–µ–∫–∏']):
        response = model.process_image(image)
    else:
        response = f"dots.ocr —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ OCR. –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:\n\n{model.process_image(image)}"
else:
    # –î–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π - –ø–æ–ª–Ω—ã–π —á–∞—Ç
    response = model.chat(image, prompt)
```

#### 3. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
```python
if selected_model == "dots.ocr":
    st.warning("‚ö†Ô∏è dots.ocr –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è OCR. –î–ª—è —á–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Qwen3-VL –∏–ª–∏ Phi-3.5 Vision")
```

### üîß –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### 1. **–°–æ–∑–¥–∞—Ç—å —É–º–Ω—ã–π —Ä–æ—É—Ç–µ—Ä –º–æ–¥–µ–ª–µ–π**
```python
class SmartModelRouter:
    def route_request(self, prompt: str, image: Image) -> str:
        if self.is_ocr_request(prompt):
            return self.dots_ocr.process_image(image)
        else:
            return self.chat_model.chat(image, prompt)
    
    def is_ocr_request(self, prompt: str) -> bool:
        ocr_keywords = ['—Ç–µ–∫—Å—Ç', '–ø—Ä–æ—á–∏—Ç–∞–π', '–∏–∑–≤–ª–µ–∫–∏', '—Ä–∞—Å–ø–æ–∑–Ω–∞–π']
        return any(word in prompt.lower() for word in ocr_keywords)
```

#### 2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å vLLM —Å–µ—Ä–≤–µ—Ä –¥–ª—è —á–∞—Ç–∞**
```yaml
# docker-compose-vllm.yml
services:
  qwen3-vl-chat:
    image: vllm/vllm-openai:latest
    command: >
      --model Qwen/Qwen3-VL-2B-Instruct
      --chat-template qwen3_vl
      --enable-chat-completion
```

#### 3. **–°–æ–∑–¥–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É**
- **dots.ocr** –¥–ª—è OCR –∑–∞–¥–∞—á
- **Qwen3-VL** –¥–ª—è —á–∞—Ç–∞ –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä** –º–æ–¥–µ–ª–∏ –ø–æ —Ç–∏–ø—É –∑–∞–ø—Ä–æ—Å–∞

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:

1. **–î–ª—è OCR –∑–∞–¥–∞—á** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ dots.ocr:
   - "–ò–∑–≤–ª–µ–∫–∏ —Ç–µ–∫—Å—Ç –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
   - "–†–∞—Å–ø–æ–∑–Ω–∞–π –¥–æ–∫—É–º–µ–Ω—Ç"
   - "–ü—Ä–æ—á–∏—Ç–∞–π —Ç–µ–∫—Å—Ç"

2. **–î–ª—è —á–∞—Ç–∞ –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Qwen3-VL:
   - "–ß—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ?"
   - "–û–ø–∏—à–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ"
   - "–ù–∞–π–¥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"

3. **–í Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ**:
   - –í—ã–±–µ—Ä–∏—Ç–µ **Qwen3-VL** –¥–ª—è —Ä–µ–∂–∏–º–∞ —á–∞—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **dots.ocr** —Ç–æ–ª—å–∫–æ –¥–ª—è OCR —Ä–µ–∂–∏–º–∞

### ‚ö†Ô∏è –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å:

1. **–ù–µ –∑–∞–¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã dots.ocr** - –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –≤–µ—Ä–Ω–µ—Ç –ø–æ–ª–Ω–æ–µ OCR
2. **–ù–µ –æ–∂–∏–¥–∞–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤** –æ—Ç dots.ocr
3. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ dots.ocr –¥–ª—è –æ–±—â–µ–≥–æ —á–∞—Ç–∞** –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

1. **–£–º–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –º–æ–¥–µ–ª–∏

2. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏**
   - –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö

3. **–ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º**
   - –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ OCR –∏ —á–∞—Ç–∞
   - –°–Ω–∞—á–∞–ª–∞ OCR, –ø–æ—Ç–æ–º –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

## üìã –ò—Ç–æ–≥–æ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:
- dots.ocr **–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã**
- –ú–æ–¥–µ–ª—å **–≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω–æ–µ OCR**
- –ü—Ä–æ–±–ª–µ–º–∞ **–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ**

### üí° –†–µ—à–µ–Ω–∏–µ:
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dots.ocr —Ç–æ–ª—å–∫–æ –¥–ª—è OCR**
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Qwen3-VL –¥–ª—è —á–∞—Ç–∞**
- **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç **–ø–æ–Ω–∏–º–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏** –¥–ª—è –∑–∞–¥–∞—á–∏
- **–õ—É—á—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**

---

*–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–µ–¥–µ–Ω: 24.01.2026*  
*–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: 8 –ø—Ä–æ–º–ø—Ç–æ–≤, 100% –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å*  
*–°—Ç–∞—Ç—É—Å: –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã*