# ChatVLMLLM Configuration
# Model and application settings

# Model configurations following official recommendations
models:
  got_ocr:
    name: "GOT-OCR 2.0"
    description: "Specialized OCR model for complex document layouts"
    model_path: "stepfun-ai/GOT-OCR2_0"
    # Official: https://huggingface.co/stepfun-ai/GOT-OCR2_0
    model_type: "ocr"
    max_length: 4096
    precision: "fp16"  # fp32, fp16, or int8
    device_map: "auto"
    trust_remote_code: true  # Required for GOT-OCR
    use_flash_attention: true
    # GOT-OCR specific settings
    ocr_type: "format"  # format, ocr, or multi-crop
    ocr_color: ""  # Optional color specification
    
  qwen_vl_2b:
    name: "Qwen2-VL 2B"
    description: "Lightweight vision-language model for document analysis"
    model_path: "Qwen/Qwen2-VL-2B-Instruct"
    # Official: https://huggingface.co/Qwen/Qwen2-VL-2B-Instruct
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: true
    # Qwen2-VL specific settings
    min_pixels: 256
    max_pixels: 1280
    
  qwen_vl_7b:
    name: "Qwen2-VL 7B"
    description: "Advanced vision-language model for complex document understanding"
    model_path: "Qwen/Qwen2-VL-7B-Instruct"
    # Official: https://huggingface.co/Qwen/Qwen2-VL-7B-Instruct
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: true
    # Qwen2-VL specific settings
    min_pixels: 256
    max_pixels: 1280

# OCR processing settings
ocr:
  supported_formats:
    - "jpg"
    - "jpeg"
    - "png"
    - "bmp"
    - "tiff"
  max_image_size: 10485760  # 10MB in bytes
  resize_max_dimension: 2048
  enable_preprocessing: true
  preprocessing_steps:
    - "resize"
    - "normalize"
    - "enhance"  # Optional
  
# Document templates for field extraction
document_templates:
  passport:
    name: "Passport"
    fields:
      - "document_number"
      - "surname"
      - "given_names"
      - "nationality"
      - "date_of_birth"
      - "sex"
      - "place_of_birth"
      - "date_of_issue"
      - "date_of_expiry"
      - "authority"
  
  invoice:
    name: "Invoice"
    fields:
      - "invoice_number"
      - "date"
      - "seller_name"
      - "seller_address"
      - "buyer_name"
      - "buyer_address"
      - "items"
      - "subtotal"
      - "tax"
      - "total_amount"
  
  receipt:
    name: "Receipt"
    fields:
      - "store_name"
      - "store_address"
      - "date"
      - "time"
      - "items"
      - "subtotal"
      - "tax"
      - "total"
      - "payment_method"

# Application settings
app:
  title: "ChatVLMLLM - Document OCR & VLM Chat"
  page_icon: "ðŸ”¬"
  layout: "wide"
  theme: "light"
  
# Cache settings
cache:
  enable: true
  directory: ".cache/app"
  max_age_seconds: 3600  # 1 hour
  
# Export settings
export:
  default_format: "json"
  formats:
    - "json"
    - "csv"
    - "txt"
  include_metadata: true
  
# Logging settings
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: "logs/chatvlmllm.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
# Performance settings
performance:
  enable_flash_attention: true
  use_int8_quantization: false
  optimize_memory: true
  max_batch_size: 4
  inference_timeout: 30  # seconds