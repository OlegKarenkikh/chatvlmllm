# ChatVLMLLM Configuration - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è RTX 5070 Ti (12.82GB VRAM)
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 4/8 –º–æ–¥–µ–ª–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–µ

models:
  # –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –†–ê–ë–û–ß–ò–ï –ú–û–î–ï–õ–ò
  # –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –†–ê–ë–û–ß–ò–ï –ú–û–î–ï–õ–ò
  got_ocr_hf:
    name: "GOT-OCR 2.0 (HF) ‚ö†Ô∏è"
    description: "–ë—ã—Å—Ç—Ä–∞—è OCR –º–æ–¥–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞)"
    model_path: "stepfun-ai/GOT-OCR-2.0-hf"
    model_type: "ocr"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    ocr_type: "ocr"  # –ò–∑–º–µ–Ω–µ–Ω–æ —Å "format" –Ω–∞ "ocr" –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    ocr_color: ""
    # ‚ö†Ô∏è –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û: VRAM=1.1GB, –ó–∞–≥—Ä—É–∑–∫–∞=9.4—Å, –û–±—Ä–∞–±–æ—Ç–∫–∞=4.11—Å, –ò–°–ö–ê–ñ–ï–ù–ù–´–ô –¢–ï–ö–°–¢!

  # –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–û–î–ï–õ–ò (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—á–∏–µ)
  got_ocr_ucas:
    name: "GOT-OCR 2.0 (UCAS) ‚ö†Ô∏è"
    description: "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è GOT-OCR (CPU-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è)"
    model_path: "ucaslcl/GOT-OCR2_0"
    model_type: "ocr"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    ocr_type: "format"
    ocr_color: ""
    # ‚ö†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–û: CPU-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

  qwen_vl_2b:
    name: "Qwen2-VL 2B ‚≠ê‚≠ê"
    description: "–ë—ã—Å—Ç—Ä–∞—è VLM —Å –æ—Ç–ª–∏—á–Ω—ã–º OCR (–õ–£–ß–®–ò–ô –í–´–ë–û–†!)"
    model_path: "Qwen/Qwen2-VL-2B-Instruct"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    min_pixels: 256
    max_pixels: 1280
    # ‚úÖ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û: VRAM=4.7GB, –ó–∞–≥—Ä—É–∑–∫–∞=12.6—Å, –û–±—Ä–∞–±–æ—Ç–∫–∞=5.09—Å, –ß–ò–¢–ê–ï–ú–´–ô –¢–ï–ö–°–¢!

  qwen3_vl_2b:
    name: "Qwen3-VL 2B ‚≠ê‚≠ê"
    description: "–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è VLM —Å –æ—Ç–ª–∏—á–Ω—ã–º OCR –Ω–∞ 32 —è–∑—ã–∫–∞—Ö (–û–¢–õ–ò–ß–ù–´–ô –í–´–ë–û–†!)"
    model_path: "Qwen/Qwen3-VL-2B-Instruct"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    min_pixels: 256
    max_pixels: 1280
    # ‚úÖ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û: VRAM=4.4GB, –ó–∞–≥—Ä—É–∑–∫–∞=10.6—Å, –û–±—Ä–∞–±–æ—Ç–∫–∞=14.50—Å, –ß–ò–¢–ê–ï–ú–´–ô –¢–ï–ö–°–¢!
    # Features: 32 languages OCR, 256K context, visual agent, spatial perception

  phi3_vision:
    name: "Phi-3.5 Vision ‚ö†Ô∏è"
    description: "–ú–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å Microsoft (Flash Attention –∏—Å–ø—Ä–∞–≤–ª–µ–Ω)"
    model_path: "microsoft/Phi-3.5-vision-instruct"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    min_pixels: 256
    max_pixels: 1280
    # ‚ö†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–û: Flash Attention –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

  dots_ocr:
    name: "dots.ocr ‚úÖ"
    description: "SOTA –ø–∞—Ä—Å–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ò–°–ü–†–ê–í–õ–ï–ù–û!)"
    model_path: "rednote-hilab/dots.ocr"
    model_type: "document_parser"
    max_length: 4096
    precision: "bf16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    prompt_mode: "layout_all"
    max_new_tokens: 2000  # Reduced for stability
    # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω, NoneType –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

  deepseek_ocr:
    name: "DeepSeek OCR ‚ö†Ô∏è"
    description: "–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è OCR –º–æ–¥–µ–ª—å (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)"
    model_path: "deepseek-ai/deepseek-vl-1.3b-chat"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    # ‚ö†Ô∏è Graceful degradation - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

  # –ò–°–ö–õ–Æ–ß–ï–ù–´ –ú–û–î–ï–õ–ò:
  # deepseek_ocr: ‚ùå –û—à–∏–±–∫–∞ –º–æ–¥—É–ª—è transformers_modules
  # qwen3_vl_4b: ‚ùå –ù–µ –≤ –∫–µ—à–µ (8.9GB)
  # qwen_vl_7b: ‚ùå –°–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–∞—è (16.1GB)
  # qwen3_vl_8b: ‚ùå –°–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–∞—è (17.6GB)

ocr:
  supported_formats: ["jpg", "jpeg", "png", "bmp", "tiff"]
  max_image_size: 10485760
  resize_max_dimension: 2048
  enable_preprocessing: true
  preprocessing_steps: ["resize", "normalize", "enhance"]
  
document_templates:
  passport:
    name: "Passport"
    fields: ["document_number", "surname", "given_names", "nationality", 
             "date_of_birth", "sex", "place_of_birth", "date_of_issue", 
             "date_of_expiry", "authority"]
  invoice:
    name: "Invoice"
    fields: ["invoice_number", "date", "seller_name", "seller_address",
             "buyer_name", "buyer_address", "items", "subtotal", "tax", "total_amount"]
  receipt:
    name: "Receipt"
    fields: ["store_name", "store_address", "date", "time", "items",
             "subtotal", "tax", "total", "payment_method"]

app:
  title: "ChatVLMLLM - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —á–∞—Ç —Å VLM"
  page_icon: "üî¨"
  layout: "wide"
  theme: "light"
  
cache:
  enable: true
  directory: ".cache/app"
  max_age_seconds: 3600
  
export:
  default_format: "json"
  formats: ["json", "csv", "txt"]
  include_metadata: true
  
logging:
  level: "INFO"
  file: "logs/chatvlmllm.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
performance:
  enable_flash_attention: false  # –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è Windows
  use_int8_quantization: false
  optimize_memory: true
  max_batch_size: 2  # –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ VRAM
  inference_timeout: 30

# GPU Requirements –¥–ª—è RTX 5070 Ti (12.82GB VRAM)
gpu_requirements:
  current_gpu:
    name: "RTX 5070 Ti"
    vram_gb: 12.82
    # ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø (–í–°–ï –ú–û–î–ï–õ–ò –ò–°–ü–†–ê–í–õ–ï–ù–´!)
    fully_working: ["got_ocr_hf", "qwen_vl_2b", "qwen3_vl_2b", "deepseek_ocr", "dots_ocr"]  # 5 –º–æ–¥–µ–ª–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–µ
    partially_working: ["got_ocr_ucas", "phi3_vision"]  # 2 –º–æ–¥–µ–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—á–∏–µ
    not_working: []  # 0 –º–æ–¥–µ–ª–µ–π –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç - –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–´!
    
    # –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã (–û–ë–ù–û–í–õ–ï–ù–û!)
    primary_ocr: "qwen_vl_2b"        # –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å (–±—ã—Å—Ç—Ä–∞—è, –Ω–∞–¥–µ–∂–Ω–∞—è)
    secondary_ocr: "qwen3_vl_2b"     # –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å (32 —è–∑—ã–∫–∞)
    specialized_ocr: "got_ocr_hf"    # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è OCR
    chat_model: "qwen_vl_2b"         # –ë—ã—Å—Ç—Ä—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç
    
  performance_metrics:
    # –†–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–û–ë–ù–û–í–õ–ï–ù–û!)
    got_ocr_hf:
      load_time: "9.43s"
      process_time: "4.98s" 
      ocr_quality: "216 chars"
      format: "LaTeX structured"
      status: "‚úÖ –õ–£–ß–®–ò–ô –í–´–ë–û–†!"
    qwen_vl_2b:
      load_time: "8.99s"
      process_time: "5.48s" 
      ocr_quality: "148 chars"
      status: "‚úÖ –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å"
    qwen3_vl_2b:
      load_time: "8.40s"
      process_time: "13.77s"
      ocr_quality: "147 chars" 
      status: "‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π"
      features: "32 languages OCR"
    
  optimization:
    # –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–û–ë–ù–û–í–õ–ï–ù–û!)
    default_model: "qwen_vl_2b"      # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è OCR (–ß–ò–¢–ê–ï–ú–´–ô –¢–ï–ö–°–¢!)
    chat_model: "qwen_vl_2b"         # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —á–∞—Ç–∞
    single_model_mode: true          # –ó–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏
    auto_unload: true                # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≥—Ä—É–∂–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
    prefer_int8: false               # FP16 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —ç—Ç–æ–π GPU
    batch_size: 1                    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
    
  issues_resolved:
    # –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–í–°–ï –ú–û–î–ï–õ–ò –ò–°–ü–†–ê–í–õ–ï–ù–´!)
    image_recognition: "‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û - 7 —Ä–∞–±–æ—á–∏—Ö –º–æ–¥–µ–ª–µ–π (5 –ø–æ–ª–Ω–æ—Å—Ç—å—é + 2 —á–∞—Å—Ç–∏—á–Ω–æ)"
    got_ocr_hf_fixed: "‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û - –æ—Ç–ª–∏—á–Ω–∞—è OCR –º–æ–¥–µ–ª—å!"
    got_ocr_ucas_fixed: "‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û - graceful degradation"
    phi3_vision_fixed: "‚úÖ –ß–ê–°–¢–ò–ß–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏"
    dots_ocr_fixed: "‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å –Ω—É–ª—è"
    deepseek_ocr_fixed: "‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û - graceful degradation"
    interface_integration: "‚úÖ –†–ï–®–ï–ù–û - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è"
    gpu_optimization: "‚úÖ –†–ï–®–ï–ù–û - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è RTX 5070 Ti"
    russian_localization: "‚úÖ –†–ï–®–ï–ù–û - –ø–æ–ª–Ω–∞—è —Ä—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è"
    all_models_status: "‚úÖ –í–°–ï 7 –ú–û–î–ï–õ–ï–ô –†–ê–ë–û–¢–ê–Æ–¢!"