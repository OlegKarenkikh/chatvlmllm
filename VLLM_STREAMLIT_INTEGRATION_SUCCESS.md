# üéâ –£–°–ü–ï–®–ù–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø vLLM + STREAMLIT

**–î–∞—Ç–∞**: 24 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê  
**–†–µ–∂–∏–º—ã**: OCR + –ß–∞—Ç —á–µ—Ä–µ–∑ vLLM API  

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ:
- **vLLM API —Å–µ—Ä–≤–µ—Ä**: Docker Compose (–ø–æ—Ä—Ç 8000)
- **Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –û—Å–Ω–æ–≤–Ω–æ–π (–ø–æ—Ä—Ç 8501) + –¢–µ—Å—Ç–æ–≤—ã–π (–ø–æ—Ä—Ç 8502)
- **–†–µ–∂–∏–º OCR**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ vLLM
- **–†–µ–∂–∏–º —á–∞—Ç–∞**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ vLLM
- **–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞**: vLLM vs Transformers –≤ sidebar

### üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Ç–∞:
- **–ü—Ä—è–º–æ–π API**: 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- **VLLMStreamlitAdapter**: 3/3 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: 0.7-1.0 —Å–µ–∫—É–Ω–¥—ã
- **–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 8/8 —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ ‚úÖ

## üöÄ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨

### 1. –†–µ–∂–∏–º OCR —Å vLLM ‚úÖ
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ø–∞—Å–ø–æ—Ä—Ç, –ø—Ä–∞–≤–∞, —Å—á–µ—Ç)
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ vLLM API
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON/CSV

### 2. –†–µ–∂–∏–º —á–∞—Ç–∞ —Å vLLM ‚úÖ
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ vLLM API
- Fallback –Ω–∞ Transformers –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 3. –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚úÖ
- **vLLM (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**: –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Docker
- **Transformers (–õ–æ–∫–∞–ª—å–Ω–æ)**: –õ–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π —Å 8-bit –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ vLLM

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### VLLMStreamlitAdapter
```python
class VLLMStreamlitAdapter:
    def __init__(self, base_url="http://localhost:8000")
    def process_image(image, prompt, model) -> Dict
    def chat_with_image(image, prompt, model) -> Dict
    def get_server_status() -> Dict
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Streamlit
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –≤ sidebar
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–µ–∫—Ü–∏–∏ OCR –∏ —á–∞—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∂–∏–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º

### Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `dots-ocr-fixed`
- –ú–æ–¥–µ–ª—å: `rednote-hilab/dots.ocr`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `max-model-len: 1024`, `gpu-memory-utilization: 0.85`
- –ö–µ—à: –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å

## üì° –î–û–°–¢–£–ü–ù–´–ï –ò–ù–¢–ï–†–§–ï–ô–°–´

### –û—Å–Ω–æ–≤–Ω–æ–π Streamlit (http://localhost:8501)
- **–ì–ª–∞–≤–Ω–∞—è**: –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–†–µ–∂–∏–º OCR**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–†–µ–∂–∏–º —á–∞—Ç–∞**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ —Å –º–æ–¥–µ–ª—è–º–∏
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π**: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ API —Å–ø—Ä–∞–≤–∫–∞

### vLLM —Ç–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (http://localhost:8502)
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è vLLM
- –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### vLLM API (http://localhost:8000)
- OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API
- Endpoints: `/health`, `/v1/models`, `/v1/chat/completions`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `/docs`

## üéØ –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### OCR —á–µ—Ä–µ–∑ vLLM
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8501
2. –í—ã–±–µ—Ä–∏—Ç–µ "vLLM (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)" –≤ —Ä–µ–∂–∏–º–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–†–µ–∂–∏–º OCR"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
6. –ù–∞–∂–º–∏—Ç–µ "–ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç"

### –ß–∞—Ç —á–µ—Ä–µ–∑ vLLM
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8501
2. –í—ã–±–µ—Ä–∏—Ç–µ "vLLM (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)" –≤ —Ä–µ–∂–∏–º–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–†–µ–∂–∏–º —á–∞—Ç–∞"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º

### –ü—Ä—è–º–æ–π API –≤—ã–∑–æ–≤
```python
import requests
import base64

# –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
with open("document.jpg", "rb") as f:
    image_base64 = base64.b64encode(f.read()).decode('utf-8')

# OCR –∑–∞–ø—Ä–æ—Å
payload = {
    "model": "rednote-hilab/dots.ocr",
    "messages": [{
        "role": "user",
        "content": [
            {"type": "text", "text": "Extract all text from this document"},
            {"type": "image_url", "image_url": {"url": f"data:image/jpeg;base64,{image_base64}"}}
        ]
    }],
    "max_tokens": 1000
}

response = requests.post("http://localhost:8000/v1/chat/completions", json=payload)
result = response.json()["choices"][0]["message"]["content"]
```

## üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –ú–µ—Ç—Ä–∏–∫–∏ vLLM
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ OCR**: 0.4-2.0 —Å–µ–∫—É–Ω–¥—ã
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–∞—Ç–∞**: 0.5-1.0 —Å–µ–∫—É–Ω–¥—ã
- **GPU –ø–∞–º—è—Ç—å**: 5.72 –ì–ë (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- **Throughput**: 8.2 tokens/s prompt, 0.8 tokens/s generation

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
| –†–µ–∂–∏–º | –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | –ü–∞–º—è—Ç—å GPU | –ì–∏–±–∫–æ—Å—Ç—å |
|-------|---------------|----------------|------------|----------|
| vLLM | ~2 –º–∏–Ω | 0.4-1.0—Å | 5.72 –ì–ë | –°—Ä–µ–¥–Ω—è—è |
| Transformers | ~30-60—Å | 2-10—Å | 3-8 –ì–ë | –í—ã—Å–æ–∫–∞—è |

## üîÑ –£–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–û–ô

### Docker Compose –∫–æ–º–∞–Ω–¥—ã
```bash
# –ó–∞–ø—É—Å–∫ vLLM —Å–µ—Ä–≤–µ—Ä–∞
docker-compose -f docker-compose-vllm.yml up -d dots-ocr

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose-vllm.yml logs dots-ocr

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose -f docker-compose-vllm.yml restart dots-ocr

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose -f docker-compose-vllm.yml stop dots-ocr
```

### Streamlit –∫–æ–º–∞–Ω–¥—ã
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
streamlit run app.py --server.port 8501

# –¢–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
streamlit run vllm_test_page.py --server.port 8502
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
python test_streamlit_vllm_integration.py

# –¢–µ—Å—Ç —á–∞—Ç–∞
python test_vllm_chat.py

# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç API
python simple_vllm_test.py
```

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π**: Qwen2-VL-2B, Phi3-Vision —á–µ—Ä–µ–∑ vLLM
2. **Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **Streaming –æ—Ç–≤–µ—Ç—ã**: –ü–æ—Ç–æ–∫–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è —á–∞—Ç–∞
4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è vLLM + Streamlit –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!**

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- üöÄ **–í—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ vLLM API
- üîß **–ì–∏–±–∫–æ—Å—Ç—å** —Å fallback –Ω–∞ Transformers
- üåê **–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —á–µ—Ä–µ–∑ Streamlit
- üìä **–ü–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** OCR –∏ —á–∞—Ç–∞
- üê≥ **–ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ Docker Compose

–ì–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è OCR –∑–∞–¥–∞—á –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤!

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã*