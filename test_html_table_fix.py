#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTML —Ç–∞–±–ª–∏—Ü –≤ —á–∞—Ç–µ
"""

import streamlit as st
from utils.smart_content_renderer import SmartContentRenderer

def main():
    st.title("üîß –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTML —Ç–∞–±–ª–∏—Ü")
    
    # –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞–∫ –≤ –ø—Ä–æ–±–ª–µ–º–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    test_content = """üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
<table class="bbox-table">
    <thead>
        <tr>
            <th style="width: 50px;">#</th>
            <th style="width: 150px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
            <th style="width: 200px;">BBOX –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</th>
            <th>–¢–µ–∫—Å—Ç</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1</td>
            <td>–ó–∞–≥–æ–ª–æ–≤–æ–∫</td>
            <td>[100, 200, 300, 400]</td>
            <td>–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞</td>
        </tr>
        <tr>
            <td>2</td>
            <td>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</td>
            <td>[150, 250, 350, 450]</td>
            <td>–î—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞</td>
        </tr>
        <tr>
            <td>3</td>
            <td>–ü–æ–¥–ø–∏—Å—å</td>
            <td>[200, 300, 400, 500]</td>
            <td>–ü–æ–¥–ø–∏—Å—å –∏–ª–∏ –ø–µ—á–∞—Ç—å</td>
        </tr>
    </tbody>
</table>

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ—Å–ª–µ —Ç–∞–±–ª–∏—Ü—ã. –¢–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –≤–∏–¥–∏–º—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏."""

    st.subheader("üé® –†–µ–∑—É–ª—å—Ç–∞—Ç —É–º–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:")
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
    try:
        SmartContentRenderer.render_content_smart(test_content)
        st.success("‚úÖ HTML —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
    except Exception as e:
        st.error(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        st.exception(e)
    
    st.divider()
    
    # –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - –∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ
    st.subheader("üìù –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - –æ–±—ã—á–Ω—ã–π markdown:")
    st.markdown(test_content)

if __name__ == "__main__":
    main()