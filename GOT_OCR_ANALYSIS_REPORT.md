# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º GOT-OCR –º–æ–¥–µ–ª–µ–π

## üîç –ü–†–û–ë–õ–ï–ú–´ –í–´–Ø–í–õ–ï–ù–´

### 1. GOT-OCR HF (stepfun-ai/GOT-OCR-2.0-hf)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, ‚ùå –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ OCR

**–ü—Ä–æ–±–ª–µ–º—ã**:
- –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º—É—Å–æ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –≤–º–µ—Å—Ç–æ OCR
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–æ–∫–µ–Ω—ã (Champion, kaps, ADDR –∏ —Ç.–¥.)
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 81.2s (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 19073 —Å–∏–º–≤–æ–ª–∞ –º—É—Å–æ—Ä–∞

**–ü—Ä–∏—á–∏–Ω—ã**:
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** - –º–æ–¥–µ–ª—å "–∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è"
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞** - –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∑–∞–¥–∞—á—É OCR
3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–µ–π** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 2. GOT-OCR UCAS (ucaslcl/GOT-OCR2_0)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª–æ–≤—ã–π –ø—É—Ç—å

**–ü—Ä–æ–±–ª–µ–º—ã**:
- –¢—Ä–µ–±—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª
- API –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç HF –≤–µ—Ä—Å–∏–∏
- –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å HF –≤–µ—Ä—Å–∏–µ–π

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –° –û–§–ò–¶–ò–ê–õ–¨–ù–û–ô –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ï–ô

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä (HF):
```python
inputs = processor(image, return_tensors="pt", format=True).to(device)
generated_ids = model.generate(
    **inputs,
    do_sample=False,
    tokenizer=processor.tokenizer,
    stop_strings="<|im_end|>",
    max_new_tokens=4096,
)
```

### –ù–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```python
inputs = self.processor(image, return_tensors="pt", format=format_text).to(device)
generated_ids = self.model.generate(
    **inputs,
    do_sample=False,
    tokenizer=self.processor.tokenizer,
    stop_strings="<|im_end|>",
    max_new_tokens=4096,
)
```

**–†–∞–∑–ª–∏—á–∏—è**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π!

## üîß –í–û–ó–ú–û–ñ–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–µ—Ä—Å–∏–µ–π transformers
- **–¢–µ–∫—É—â–∞—è**: transformers 5.0.0.dev0 (—Å–ª–∏—à–∫–æ–º –Ω–æ–≤–∞—è)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è**: transformers 4.37.2 (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

### 2. –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –≤–µ—Å–∞–º–∏
```
Key            | Status  |
---------------+---------+-
lm_head.weight | MISSING |
```
–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –≤–µ—Å–∞–º–∏!

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º
```
Using a slow image processor as `use_fast` is unset
```

### 4. –ü—Ä–æ–±–ª–µ–º–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–æ–∫–µ–Ω—ã
- –ù–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –ü–æ–Ω–∏–∑–∏—Ç—å –≤–µ—Ä—Å–∏—é transformers
```bash
pip install transformers==4.37.2
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```python
generated_ids = self.model.generate(
    **inputs,
    do_sample=False,
    max_new_tokens=512,  # –£–º–µ–Ω—å—à–∏—Ç—å
    num_beams=1,
    early_stopping=True,
    pad_token_id=self.processor.tokenizer.eos_token_id,
    eos_token_id=self.processor.tokenizer.eos_token_id,
    repetition_penalty=1.2,  # –ü—Ä–æ—Ç–∏–≤ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
    no_repeat_ngram_size=3,
)
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
```python
self.processor = AutoProcessor.from_pretrained(
    self.model_path,
    trust_remote_code=True,
    use_fast=True  # –î–æ–±–∞–≤–∏—Ç—å
)
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
- –í–æ–∑–º–æ–∂–Ω–æ, –º–æ–¥–µ–ª—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ –≤ –∫–µ—à–µ
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é –º–æ–¥–µ–ª–∏

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

| –ú–æ–¥–µ–ª—å | –ó–∞–≥—Ä—É–∑–∫–∞ | –û–±—Ä–∞–±–æ—Ç–∫–∞ | –ö–∞—á–µ—Å—Ç–≤–æ | –°—Ç–∞—Ç—É—Å |
|--------|----------|-----------|----------|---------|
| qwen_vl_2b | 11.74s | 2.18s | ‚úÖ –•–æ—Ä–æ—à–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| got_ocr_hf | 9.33s | 81.2s | ‚ùå –ú—É—Å–æ—Ä | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç |
| got_ocr_ucas | ? | ? | ? | ‚ùì –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å |

## üèÜ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ:
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å qwen_vl_2b** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é OCR –º–æ–¥–µ–ª—å
2. **–û—Ç–∫–ª—é—á–∏—Ç—å got_ocr_hf** –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **–ü–æ–Ω–∏–∑–∏—Ç—å –≤–µ—Ä—Å–∏—é transformers** –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ:
1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å got_ocr_hf**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å got_ocr_ucas**
3. **–ù–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ OCR –º–æ–¥–µ–ª–∏**

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**qwen_vl_2b –æ—Å—Ç–∞–µ—Ç—Å—è –ª—É—á—à–∏–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è OCR:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (11.74s)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (2.18s)
- ‚úÖ –ß–∏—Ç–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**got_ocr_hf —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä—å–µ–∑–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ –∑–∞–º–µ–Ω—ã.**

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 19 —è–Ω–≤–∞—Ä—è 2026*
*–°—Ç–∞—Ç—É—Å: –ü—Ä–æ–±–ª–µ–º—ã –≤—ã—è–≤–ª–µ–Ω—ã, —Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã*