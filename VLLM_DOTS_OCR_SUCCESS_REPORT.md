# üéâ –£–°–ü–ï–®–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê DOTS.OCR –ß–ï–†–ï–ó VLLM

**–î–∞—Ç–∞**: 24 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê  
**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: `dots-ocr-fixed`  
**–ü–æ—Ä—Ç**: 8000  

## üìä –ò–¢–û–ì–û–í–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
- **–ú–æ–¥–µ–ª—å**: rednote-hilab/dots.ocr (5.67 –ì–ë)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: DotsOCRForCausalLM
- **–ü–∞–º—è—Ç—å GPU**: 5.72 –ì–ë –≤—ã–¥–µ–ª–µ–Ω–æ
- **Flash Attention**: –ê–∫—Ç–∏–≤–µ–Ω
- **–ö–µ—à –º–æ–¥–µ–ª–µ–π**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à HuggingFace

### üîß –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `max-model-len`: 1024 (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ø–∞–º—è—Ç–∏)
- `gpu-memory-utilization`: 0.85 (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- `enforce-eager`: –≤–∫–ª—é—á–µ–Ω (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
- `disable-log-requests`: –æ—Ç–∫–ª—é—á–µ–Ω—ã –ª–∏—à–Ω–∏–µ –ª–æ–≥–∏

### üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **Health Check**: ‚úÖ –ü—Ä–æ—à–µ–ª
- **Models Endpoint**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **OCR –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**: –ë—ã—Å—Ç—Ä—ã–π (< 60 —Å–µ–∫)

## üöÄ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### API Endpoints:
- **Health**: http://localhost:8000/health
- **Models**: http://localhost:8000/v1/models  
- **Chat Completions**: http://localhost:8000/v1/chat/completions
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/docs

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs dots-ocr-fixed

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker stop dots-ocr-fixed

# –ó–∞–ø—É—Å–∫
docker start dots-ocr-fixed

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker restart dots-ocr-fixed

# –°—Ç–∞—Ç—É—Å
docker ps | findstr dots-ocr-fixed
```

## üìù –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### Python –∫–ª–∏–µ–Ω—Ç:
```python
import requests
import base64

# –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
with open("image.png", "rb") as f:
    image_base64 = base64.b64encode(f.read()).decode('utf-8')

# OCR –∑–∞–ø—Ä–æ—Å
payload = {
    "model": "rednote-hilab/dots.ocr",
    "messages": [{
        "role": "user",
        "content": [
            {"type": "text", "text": "Extract all text from this image"},
            {"type": "image_url", "image_url": {"url": f"data:image/png;base64,{image_base64}"}}
        ]
    }],
    "max_tokens": 1000
}

response = requests.post("http://localhost:8000/v1/chat/completions", json=payload)
result = response.json()["choices"][0]["message"]["content"]
print(result)
```

### cURL –ø—Ä–∏–º–µ—Ä:
```bash
curl -X POST "http://localhost:8000/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "rednote-hilab/dots.ocr",
    "messages": [{"role": "user", "content": "Hello"}],
    "max_tokens": 100
  }'
```

## üîç –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **GPU**: RTX 5070 Ti (12 –ì–ë VRAM) ‚úÖ
- **–ü–∞–º—è—Ç—å**: ~6 –ì–ë GPU –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **Docker**: vllm/vllm-openai:latest
- **CUDA**: 13.1 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏**: ~55 —Å–µ–∫—É–Ω–¥
- **–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**: ~2 –º–∏–Ω—É—Ç—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: < 60 —Å–µ–∫—É–Ω–¥
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: Batch processing, async requests

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏**: Qwen3-VL, Phi3-Vision
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å batch processing**: –î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  
3. **–°–æ–∑–¥–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: Streamlit –∏–ª–∏ Gradio
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Quantization, TensorRT

## üìã –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´

- `start_dots_ocr_fixed.py` - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- `wait_for_dots_ocr.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `test_vllm_health.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–æ–≤
- `analyze_cached_models.py` - –ê–Ω–∞–ª–∏–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**DOTS.OCR —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å vLLM –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!**

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è OCR –∑–∞–¥–∞—á —Å –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é.

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ vLLM*