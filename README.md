# 🔬 ChatVLMLLM - Исследовательский школьный проект

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://python.org)
[![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-red.svg)](https://streamlit.io)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## 📋 О проекте

Школьный исследовательский проект по изучению различных подходов к распознаванию изображений документов с использованием современных Vision-Language моделей (VLM).

### 🎯 Цель исследования

Сравнительный анализ различных VLM-моделей для задач OCR документов:
- Оценка качества распознавания текста
- Измерение производительности на ограниченных ресурсах
- Исследование применимости для анализа тендерной документации

## 🏗️ Архитектура проекта

```
chatvlmllm/
├── app.py                    # Главное Streamlit приложение
├── api.py                    # REST API эндпоинты
├── config.yaml               # Конфигурация моделей
├── models/                   # Модули VLM моделей
│   ├── __init__.py
│   ├── base_model.py         # Базовый класс модели
│   ├── model_loader.py       # Загрузчик моделей (Factory)
│   ├── got_ocr.py            # GOT-OCR 2.0
│   ├── qwen_vl.py            # Qwen2-VL
│   ├── qwen3_vl.py           # Qwen3-VL (рекомендуемая)
│   ├── dots_ocr.py           # dots.ocr
│   ├── phi3_vision.py        # Phi-3.5 Vision
│   └── deepseek_ocr.py       # DeepSeek OCR
├── utils/                    # Утилиты
│   ├── image_processor.py
│   └── bbox_visualizer.py
├── ui/                       # UI компоненты
│   └── styles.py
├── docs/                     # Документация
│   ├── RESEARCH_PROJECT.md   # Описание исследования
│   ├── MODEL_COMPARISON.md   # Сравнение моделей
│   └── DEPLOYMENT_POLICY.md  # Политика запуска
└── tests/                    # Тесты
```

## 🚀 Быстрый старт

### Требования
- Python 3.10+
- CUDA 12.x (для GPU)
- 12+ GB VRAM (RTX 3080/4070/5070 Ti)

### Установка

```bash
# Клонирование
git clone https://github.com/OlegKarenkikh/chatvlmllm.git
cd chatvlmllm

# Создание виртуального окружения
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# Установка зависимостей
pip install -r requirements.txt

# Запуск
streamlit run app.py
```

## 🤖 Поддерживаемые модели

| Модель | VRAM | Скорость | Качество OCR | Рекомендация |
|--------|------|----------|--------------|---------------|
| **Qwen3-VL 2B** | 4.4 GB | ⚡⚡ | ⭐⭐⭐⭐ | ✅ Лучший выбор |
| dots.ocr | 8.0 GB | ⚡ | ⭐⭐⭐⭐⭐ | Для сложных документов |
| GOT-OCR 2.0 | 1.1 GB | ⚡⚡⚡ | ⭐⭐⭐ | Быстрое OCR |
| Qwen2-VL 2B | 4.2 GB | ⚡⚡ | ⭐⭐⭐ | Альтернатива |
| Phi-3.5 Vision | 7.7 GB | ⚡ | ⭐⭐⭐⭐ | Анализ изображений |

## 🔧 Политика запуска моделей

Из-за ограниченных ресурсов (12 GB VRAM) используется политика **одного активного контейнера**:

### vLLM режим (Рекомендуемый)
```
┌─────────────────────────────────────────┐
│  Docker контейнер с одной моделью vLLM  │
│  ┌───────────────────────────────────┐  │
│  │    Выбранная модель (например     │  │
│  │    dots.ocr или Qwen3-VL)         │  │
│  └───────────────────────────────────┘  │
└─────────────────────────────────────────┘
```

### Transformers режим (Локально)
```
┌─────────────────────────────────────────┐
│  Локальная загрузка через HuggingFace   │
│  - Автоматическая выгрузка предыдущей   │
│  - Кеширование в ~/.cache/huggingface   │
└─────────────────────────────────────────┘
```

## 📊 Результаты исследования

См. подробный отчёт в [docs/RESEARCH_PROJECT.md](docs/RESEARCH_PROJECT.md)

### Ключевые выводы

1. **Qwen3-VL 2B** — оптимальный баланс качества и скорости
2. **dots.ocr** — лучшее качество для структурированных документов
3. **GOT-OCR** — самый быстрый, но ограниченная точность
4. Для тендерной документации рекомендуется комбинированный подход

## 🎓 Образовательные цели

- Изучение архитектур Vision-Language моделей
- Практика работы с HuggingFace Transformers
- Освоение Docker и vLLM
- Разработка Streamlit приложений
- Научное сравнение подходов к OCR

## 📝 Лицензия

MIT License - см. [LICENSE](LICENSE)

## 👤 Автор

Школьный исследовательский проект

---

*Проект создан в образовательных целях для изучения современных технологий машинного зрения*