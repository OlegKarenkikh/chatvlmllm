# ChatVLMLLM Configuration - –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è RTX 5070 Ti (12.82GB VRAM)

models:
  # –†–ê–ë–û–ß–ò–ï –õ–ï–ì–ö–ò–ï –ú–û–î–ï–õ–ò (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
  got_ocr_hf:
    name: "GOT-OCR 2.0 (HF)"
    description: "–ë—ã—Å—Ç—Ä–∞—è –∏ —Ç–æ—á–Ω–∞—è OCR –º–æ–¥–µ–ª—å (HuggingFace –≤–µ—Ä—Å–∏—è)"
    model_path: "stepfun-ai/GOT-OCR-2.0-hf"
    model_type: "ocr"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    ocr_type: "format"
    ocr_color: ""
    # VRAM: 1.1GB, –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 6—Å, –û–±—Ä–∞–±–æ—Ç–∫–∞: 0.07—Å
    status: "‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è"
    
  got_ocr_ucas:
    name: "GOT-OCR 2.0 (UCAS)"
    description: "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è GOT-OCR –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –º–∞–∫–µ—Ç–æ–≤"
    model_path: "ucaslcl/GOT-OCR2_0"
    model_type: "ocr"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    ocr_type: "format"
    ocr_color: ""
    # VRAM: 2.7GB, –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 5.7—Å
    status: "‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏"

  qwen3_vl_2b:
    name: "Qwen3-VL 2B"
    description: "–ù–æ–≤–µ–π—à–∞—è VLM —Å OCR –Ω–∞ 32 —è–∑—ã–∫–∞—Ö –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º"
    model_path: "Qwen/Qwen3-VL-2B-Instruct"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    min_pixels: 256
    max_pixels: 1280
    # VRAM: 4.4GB, –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 10.6—Å, –û–±—Ä–∞–±–æ—Ç–∫–∞: 23.3—Å
    status: "‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è"
    
  qwen_vl_2b:
    name: "Qwen2-VL 2B"
    description: "–ë—ã—Å—Ç—Ä–∞—è VLM –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —á–∞—Ç–∞"
    model_path: "Qwen/Qwen2-VL-2B-Instruct"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    min_pixels: 256
    max_pixels: 1280
    # VRAM: 4.7GB, –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 12.6—Å, –û–±—Ä–∞–±–æ—Ç–∫–∞: 1.2—Å
    status: "‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è"

  # –°–†–ï–î–ù–ò–ï –ú–û–î–ï–õ–ò (—Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ VRAM)
  phi3_vision:
    name: "Phi-3.5 Vision"
    description: "–ú–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å Microsoft –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞"
    model_path: "microsoft/Phi-3.5-vision-instruct"
    model_type: "vlm"
    max_length: 4096
    precision: "fp16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    min_pixels: 256
    max_pixels: 1280
    # VRAM: 7.7GB, –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 17.4—Å
    status: "‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏"

  dots_ocr:
    name: "dots.ocr"
    description: "SOTA –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (1.7B, 100+ —è–∑—ã–∫–æ–≤)"
    model_path: "rednote-hilab/dots.ocr"
    model_type: "document_parser"
    max_length: 4096
    precision: "bf16"
    device_map: "auto"
    trust_remote_code: true
    use_flash_attention: false
    prompt_mode: "layout_all"
    max_new_tokens: 24000
    # VRAM: 8GB, –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 14.9—Å
    status: "‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏"

  # –ò–°–ö–õ–Æ–ß–ï–ù–´ –ú–û–î–ï–õ–ò
  # deepseek_ocr: ‚ùå –û—à–∏–±–∫–∞ –º–æ–¥—É–ª—è transformers_modules
  # qwen3_vl_4b: ‚ùå –ù–µ –≤ –∫–µ—à–µ (8.9GB)
  # qwen_vl_7b: ‚ùå –°–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–∞—è (16.1GB)
  # qwen3_vl_8b: ‚ùå –°–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–∞—è (17.6GB)

# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –ø–æ –∑–∞–¥–∞—á–∞–º
recommended_models:
  fast_ocr: "got_ocr_hf"           # –ë—ã—Å—Ç—Ä–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
  multilingual_ocr: "qwen3_vl_2b"  # –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π OCR (32 —è–∑—ã–∫–∞)
  interactive_chat: "qwen_vl_2b"   # –ë—ã—Å—Ç—Ä—ã–π —á–∞—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
  document_analysis: "qwen3_vl_2b" # –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
performance:
  # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è RTX 5070 Ti
  single_model_mode: true      # –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –º–æ–¥–µ–ª—å
  auto_unload: true           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≥—Ä—É–∂–∞—Ç—å –ø—Ä–∏ —Å–º–µ–Ω–µ
  max_batch_size: 1           # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
  inference_timeout: 60       # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
  
  # GPU –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  enable_flash_attention: false  # –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è Windows
  use_int8_quantization: false   # FP16 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
  optimize_memory: true          # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
  
  # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
  cache_models: true            # –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
  preload_default: false       # –ù–µ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥–µ–ª–∏

ocr:
  supported_formats: ["jpg", "jpeg", "png", "bmp", "tiff"]
  max_image_size: 10485760
  resize_max_dimension: 2048
  enable_preprocessing: true
  preprocessing_steps: ["resize", "normalize", "enhance"]
  
document_templates:
  passport:
    name: "–ü–∞—Å–ø–æ—Ä—Ç"
    fields: ["document_number", "surname", "given_names", "nationality", 
             "date_of_birth", "sex", "place_of_birth", "date_of_issue", 
             "date_of_expiry", "authority"]
  invoice:
    name: "–°—á–µ—Ç"
    fields: ["invoice_number", "date", "seller_name", "seller_address",
             "buyer_name", "buyer_address", "items", "subtotal", "tax", "total_amount"]
  receipt:
    name: "–ß–µ–∫"
    fields: ["store_name", "store_address", "date", "time", "items",
             "subtotal", "tax", "total", "payment_method"]

app:
  title: "ChatVLMLLM - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —á–∞—Ç —Å VLM"
  page_icon: "üî¨"
  layout: "wide"
  theme: "light"
  
cache:
  enable: true
  directory: ".cache/app"
  max_age_seconds: 3600
  
export:
  default_format: "json"
  formats: ["json", "csv", "txt"]
  include_metadata: true
  
logging:
  level: "INFO"
  file: "logs/chatvlmllm.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
testing_results:
  total_models_tested: 8
  fully_working: 4
  partially_working: 2
  failed: 2
  
  working_models:
    - got_ocr_hf
    - qwen3_vl_2b
    - qwen_vl_2b
    - got_ocr_ucas  # —á–∞—Å—Ç–∏—á–Ω–æ
    
  performance_metrics:
    fastest_load: "got_ocr_ucas (5.7s)"
    fastest_inference: "got_ocr_hf (0.07s)"
    most_accurate: "qwen3_vl_2b (32 languages)"
    best_balance: "qwen_vl_2b (1.2s inference)"

# GPU Requirements –¥–ª—è RTX 5070 Ti
gpu_requirements:
  current_gpu:
    name: "RTX 5070 Ti"
    vram_gb: 12.82
    recommended_models: ["got_ocr_hf", "qwen_vl_2b", "qwen3_vl_2b"]
    light_models: ["got_ocr_hf"]
    medium_models: ["qwen_vl_2b", "qwen3_vl_2b"]
    heavy_models: ["phi3_vision", "dots_ocr"]  # –¢—Ä–µ–±—É—é—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏
  
  optimization:
    # –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    default_model: "got_ocr_hf"     # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è OCR
    chat_model: "qwen_vl_2b"        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —á–∞—Ç–∞
    advanced_model: "qwen3_vl_2b"   # –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
    auto_model_selection: true      # –í—ã–±–∏—Ä–∞—Ç—å –º–æ–¥–µ–ª—å –ø–æ –∑–∞–¥–∞—á–µ
    memory_monitoring: true         # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è VRAM
    graceful_fallback: true         # –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ª–µ–≥–∫–∏–µ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏