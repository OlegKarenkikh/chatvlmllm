# CPU FALLBACK CONFIGURATION
models:
  qwen_vl_2b:
    name: "Qwen2-VL 2B (CPU Fallback)"
    description: "Основная OCR модель с CPU fallback"
    model_path: "Qwen/Qwen2-VL-2B-Instruct"
    max_length: 32768
    precision: "fp32"  # CPU режим
    device_map: "cpu"
    force_cpu: true
    
  qwen3_vl_2b:
    name: "Qwen3-VL 2B (Optimized)"
    description: "Многоязычная модель с оптимизацией"
    model_path: "Qwen/Qwen3-VL-2B-Instruct"
    max_length: 256000
    precision: "fp16"
    device_map: "auto"
    generation_config:
      max_new_tokens: 512
      do_sample: false
      temperature: 0.1
      
  dots_ocr_corrected:
    name: "dots.ocr (Corrected)"
    description: "Исправленная реализация dots.ocr"
    model_path: "rednote-hilab/dots.ocr"
    max_length: 24000
    precision: "fp16"
    device_map: "auto"
    use_corrected_implementation: true

gpu_requirements:
  optimization:
    default_model: "qwen3_vl_2b"
    single_model_mode: true
    auto_unload: true
    cpu_fallback: true
    cuda_error_recovery: true
